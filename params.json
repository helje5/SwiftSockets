{"name":"SwiftSockets","tagline":"A simple GCD based socket wrapper for Swift.","body":"SwiftSockets\r\n============\r\n\r\nA simple GCD based socket library for Swift.\r\n\r\nSwiftSockets is kind of a demo on how to integrate Swift with raw C APIs. More\r\nfor stealing Swift coding ideas than for actually using the code in a real\r\nworld project. In most real world Swift apps you have access to Cocoa, use it.\r\n\r\nIt also comes with a great Echo daemon as a demo, it's always there if you need\r\na chat.\r\n\r\n**Note**: This is my first [Swift](https://developer.apple.com/swift/) project.\r\nAny suggestions on how to improve the code are welcome. I expect lots and lots\r\n:-)\r\n\r\n###Targets\r\n\r\nThe project includes three targets:\r\n- ARISockets\r\n- ARIEchoServer\r\n- ARIFetch\r\n\r\nI suggest you start out looking at the ARIEchoServer.\r\n\r\n####ARISockets\r\n\r\nA framework containing the socket classes and relevant extensions. It takes a bit of inspiration from the [SOPE](http://sope.opengroupware.org) NGStreams library.\r\n\r\nServer Sample:\r\n```swift\r\nlet socket = PassiveSocket(address: sockaddr_in(port: 4242))\r\n  .listen(dispatch_get_global_queue(0, 0), backlog: 5) {\r\n    println(\"Wait, someone is attempting to talk to me!\")\r\n    $0.close()\r\n    println(\"All good, go ahead!\")\r\n  }\r\n```\r\n\r\nClient Sample:\r\n```swift\r\nlet socket = ActiveSocket()\r\n  .onRead {\r\n    let (count, block, errno) = $0.read()\r\n    if count < 1 {\r\n      println(\"EOF, or great error handling \\(errno).\")\r\n      return\r\n    }\r\n    println(\"Answer to ring,ring is: \\(count) bytes: \\(block)\")\r\n  }\r\n  .connect(\"127.0.0.1:80\") {\r\n    socket.write(\"Ring, ring!\\r\\n\")\r\n  }\r\n```\r\n\r\n####ARIEchoServer\r\n\r\nGreat echo server. This is actually a Cocoa app. Compile it, run it, then\r\nconnect to it in the Terminal.app via ```telnet 8042```.\r\n\r\n![](http://i.imgur.com/874ovtE.png)\r\n\r\n####ARIFetch\r\n\r\nConnects a socket to some end point, sends an HTTP/1.0 GET request with some\r\nawesome headers, then shows the results the server sends. Cocoa app.\r\n\r\nWhy HTTP/1.0? Avoids redirects on www.apple.com :-)\r\n\r\n![](http://i.imgur.com/nRhADxg.png)\r\n\r\n\r\n###Goals\r\n\r\n- [x] Max line length: 80 characters\r\n- [ ] Great error handling\r\n  - [x] PS style great error handling\r\n  - [x] println() error handling\r\n  - [ ] Real error handling\r\n- [x] Twisted (no blocking reads or writes)\r\n  - [x] Async reads and writes\r\n    - [x] Never block on reads\r\n    - [x] Never block on listen\r\n  - [ ] Async connect()\r\n- [ ] Support all types of Unix sockets & addresses\r\n  - [x] IPv4\r\n  - [ ] IPv6 (I guess this should work too)\r\n  - [ ] Unix domain sockets\r\n  - [ ] Datagram sockets\r\n- [x] No NS'ism\r\n- [ ] Use as many language features Swift provides\r\n  - [ ] Generics (swiftc segfaults)\r\n    - [x] Generic function\r\n  - [x] Closures\r\n    - [x] weak self\r\n    - [x] trailing closures\r\n    - [x] implicit parameters\r\n  - [ ] Unowned\r\n  - [x] Extensions on structs\r\n  - [ ] Extensions to organize classes (swiftc segfaults)\r\n  - [x] Protocols on structs\r\n  - [x] Tuples, with labels\r\n  - [x] Trailing closures\r\n  - [ ] @Lazy\r\n  - [x] Pure Swift weak delegates via @class\r\n  - [x] Optionals\r\n  - [x] Convenience initializers\r\n  - [x] Class variables on structs\r\n  - [x] CConstPointer, CConstVoidPointer\r\n    - [x] withCString {}\r\n  - [x] UnsafePointer\r\n  - [x] sizeof()\r\n  - [x] Standard Protocols\r\n    - [x] Printable\r\n    - [x] LogicValue\r\n    - [x] OutputStream\r\n    - [x] Equatable\r\n    - [x] Hashable\r\n    - [x] Sequence (GeneratorOf<T>)\r\n  - [x] Left shift AND right shift\r\n  - [ ] Enums on steroids\r\n  - [ ] Dynamic type system, reflection\r\n  - [x] Operator overloading\r\n  - [ ] UCS-4 identifiers (üêîüêîüêî)\r\n  - [ ] ~~RTF source code with images and code sections in different fonts~~\r\n  - [ ] Nested classes/types\r\n  - [ ] Patterns\r\n    - [x] Use wildcard pattern to ignore value\r\n  - [x] Literal Convertibles\r\n  - [ ] @auto-closure\r\n\r\n###Why?!\r\n\r\nThis is an experiment to get acquainted with Swift. To check whether something\r\nreal can be implemented in 'pure' Swift. Meaning, without using any Objective-C\r\nCocoa classes (no NS'ism).\r\nOr in other words: Can you use Swift without writing all the 'real' code in\r\nwrapped Objective-C? :-)\r\n\r\n###Contact\r\n\r\n[@helje5](http://twitter.com/helje5) | helge@alwaysrightinstitute.com\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}